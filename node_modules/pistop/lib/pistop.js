// Control GPIO
var Gpio = require('onoff').Gpio;
var debug = require('debug');

var pistop = function(immediate_pin, near_pin, green_pin) {
    this.immediate_pin = immediate_pin;
    this.near_pin = near_pin;
    this.far_pin = far_pin;
    this.far_led = new Gpio(far_pin, 'out');
    this.near_led = new Gpio(near_pin, 'out');
    this.immediate_led = new Gpio(immediate_pin, 'out');
};

pistop.prototype.set = function(istate, nstate, fstate) {
    this.immediate_led.writeSync(istate);
    this.near_led.writeSync(nstate);
    this.far_led.writeSync(fstate);
};

pistop.prototype.immediate = function() {
    this.set(1, 0 , 0);
};

pistop.prototype.far = function() {
    this.set(0, 0 , 1);
};

pistop.prototype.near = function() {
    this.set(0, 1 , 0);
};

pistop.prototype.clear = function() {
    this.set(0, 0 , 0);
};

pistop.prototype.all = function() {
    this.set(1, 1 , 1);
};

module.exports = pistop;
